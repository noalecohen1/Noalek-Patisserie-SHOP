@using Patisserie.Controllers

@{
    char at = '@';
}

<nav class="navbar bg-secondary">
    <div class="container p-0">
        <div class="navbar-header align-self-start">
            @Html.ActionLink("Noalek", "Index", "Home", new { area = "" }, new { @class = "navbar-brand logo" })
        </div>
        <div class="nav navbar-nav">
            <ul class="align-items-center btn-group" style="list-style: none;">
                
                <li class="nav-item">
                    <div class="btn-group">
                        <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Site Nevigation
                        </button>
                        <div class="dropdown-menu dropdown-menu-right bg-secondary">
                            <a class="dropdown-item row mr-0 ml-0" href="/Branches">
                                <i class="fa fa-map-marker" style="width: 20px;" aria-hidden="true"></i>
                                <span class="col-10">Branches</span>
                            </a>
                            <a class="dropdown-item row mr-0 ml-0" href="/Products">
                                <img src="~/Media/Images/cake-pop.svg" alt="Products" height="20" width="20" />
                                <span class="col-10">Products</span>
                            </a>
                            <a class="dropdown-item row mr-0 ml-0" href="/Categories">
                                <img src="~/Media/Images/grid.svg" alt="Categories" height="20" width="20" />
                                <span class="col-10">Categories</span>
                            </a>
                            @if (Utl.IsAdmin(Session))
                            {
                                <div class="dropdown-divider"></div>
                                <h6 class="dropdown-header text-white-50">Admin Panel</h6>
                                <a class="dropdown-item row mr-0 ml-0" href="/Accounts">
                                    <i class="fa fa-users" aria-hidden="true"></i>
                                    <spoan class="col-10">Accounts</spoan>
                                </a>
                                <a class="dropdown-item row mr-0 ml-0" href="/Home/Admin">
                                    <i class="fa fa-pie-chart" aria-hidden="true"></i>
                                    <span class="col-10">Control Panel</span>
                                </a>
                            }
                        </div>
                    </div>
                </li>
                
                <li class="nav-item" style="display: flex;">
                    <button class="mail-icon-wrapper p-0" type="button" title="Contact Us" data-toggle="modal" data-target="#contact-modal">
                        <div class="mail">
                            <div class="cover"> </div>
                            <div class="letter"><h5>@at</h5></div>
                        </div>
                    </button>
                </li>
                @if (Utl.IsLoggedIn(Session))
                {
                    <li class="nav-item"><button class="cart-btn" type="button" data-toggle="modal" data-target="#cart-modal"><i class="fa fa-shopping-cart cart-icon" aria-hidden="true"><span class="badge badge-notify cart-badge"></span></i></button></li>
                    <li class="nav-item"><a href="/Accounts/Details"><i class="fa fa-user" aria-hidden="true"></i></a></li>
                    <li class="nav-item"><a href="/Accounts/Logout" class="btn btn-outline-secondary">Log-out</a></li>
                }
                else
                {
                    <li class="nav-item"><button class="register-btn" 
                                data-toggle="modal" data-target="#register-modal">Register</button></li>
                    <li class="nav-item"><button class="btn btn-secondary" 
                                data-toggle="modal" data-target="#login-modal">Login</button></li>
                }
            </ul>
        </div>
    </div>
</nav>

@if (!Utl.IsLoggedIn(Session))
{
    @Html.Partial("_LoginModal")
    @Html.Partial("_RegisterModal")
}
